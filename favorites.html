<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles.css">
        <script src="jobs.js"></script>
    </head>
    <body>
        <header>
            <!-- <h1>Jobs for Programmers</h1> -->
            <nav>
              <ul class = "nav">
                <li><a href="index.html" id="home">Home</a></li>
                <!-- <li><a href="#">Jobs</a></li> -->
                <li><a href="jobs.html" id="favorites">Jobs</a></li>
                <li><a href="favorites.html" id="favorites">Favorites</a></li>
              </ul>
              
            </nav>

            <!-- <nav>
                
                <a id="machine">All</a><a id="balloon">Balloon</a><a id="dirigible">Dirigible</a><a
                id="glider">Glider</a><a id="plane">Aeroplane</a>
            </nav> -->
        </header>
        <h1 id="favorites-title">Favorites</h1>
        <!-- <form action="#">
          <label for="location">Location</label>
          <input type="text" id="location" name="location">
          <button type="submit" id="filter-button">Filter</button>
        </form> -->
        <!-- <img id="heart" src="images/heart-regular.svg">
        <img id="heart" src="images/heart-solid.svg"> -->
        <div class="jobs" data-favorite="true">

        </div>

        <!-- <main>
            <section class="hero">
            <a class="links" href="jobs.html">
            <button id="btn">Find Jobs</button>
            </a>
        </main> -->

    </body>

    <script>
        const featuredJobsContainer = document.querySelector('.jobs');
        let counter = localStorage.getItem("total");
        let array = [];
        for(let i=0;i<counter;i++){
          let job = localStorage.getItem("job-"+i);
          array.push(job);
          let divTag = document.createElement('div');
          divTag.setAttribute("id","job-"+i)
          divTag.innerHTML=job;
          featuredJobsContainer.appendChild(divTag);
          
        }
        let heartImages = document.querySelectorAll(".heart");
        heartImages.forEach(function(heartImage){
          heartImage.addEventListener('click', function(){

            let parent = this.parentElement;
            let id = parent.id;
            localStorage.removeItem(id);
            parent.remove();
            localStorage.setItem("total",--counter);
          });

        });
        console.log(heartImages);
        console.log(array);



//         const filterButton = document.querySelector('#filter-button');
// const keywordsInput = document.querySelector('#keywords');
// const locationInput = document.querySelector('#location');
// const featuredJobsContainer = document.querySelector('.jobs');

// // Fetch the JSON data and generate the elements for all jobs
// fetch('favorites_data.json')
//   .then(response => response.json())
//   .then(jobs => {
//     jobs.forEach(generateJobElement);
//   });

// filterButton.addEventListener('click', event => {
//   event.preventDefault();

//   const location = locationInput.value.trim().toLowerCase();

//   // Clear the featured jobs container
//   featuredJobsContainer.innerHTML = '';

//   fetch('favorites_data.json')
//     .then(response => response.json())
//     .then(jobs => {
//       // Filter the jobs by keywords and location
//       const filteredJobs = jobs.filter(job => {
//         return (
//           job.location.toLowerCase().includes(location)
//         );
//       });

//       // Generate and append the elements for the filtered jobs
//       filteredJobs.forEach(generateJobElement);
//     });
// });

// function generateJobElement(job) {
//     // Create the elements for the job
//     const jobElement = document.createElement('div');
// //   const titleElement = document.createElement('h3');
//     const titleElement = document.createElement('h3');
//     const companyElement = document.createElement('p');
//     const locationElement = document.createElement('p');
//     const descriptionElement = document.createElement('p');
//     const applyButton = document.createElement('a');

//     //new lines 3/6 8:06am

//     // const heartButton = document.createElement('button');
//     // heartButton.style.backgroundImage = "url('images/heart-regular.svg')";
//     // heartButton.className = "heart";
//     // heartButton.style.cursor = "pointer";

//     // heartButton.onclick = changeImage('solid');

//     const heartImage = document.createElement('img');
        
//   // Set the content and attributes of the elements
//     titleElement.textContent = job.title;
//     companyElement.textContent = job.company;
//     locationElement.textContent = job.location;
//     descriptionElement.textContent = job.description;
//     applyButton.textContent = 'Apply Now';
//     applyButton.href = job.apply_url;
//     heartImage.src = "images/heart-regular.svg";
//     heartImage.className = "heart";
//   // Append the elements to the job element
//     jobElement.appendChild(titleElement);
//     jobElement.appendChild(companyElement);
//     jobElement.appendChild(locationElement);
//     jobElement.appendChild(descriptionElement);
//     jobElement.appendChild(applyButton);
//     //jobElement.appendChild(heartButton);
//     jobElement.appendChild(heartImage);

//   // Append the job element to the featured jobs container
//     featuredJobsContainer.appendChild(jobElement);
// }

// var heartButtons = document.querySelectorAll('.heart');
// // // console.log("hello");
// // // function changeImage(solid){
// // //   heartButton.style.backgroundImage = "url('images/heart-solid.svg')";
// // // }
// // // Add click event listener to each heart icon/button

// // Loop through each heart button
// heartButtons.forEach((heartButton) => {
//   // Add click event listener
//   heartButton.addEventListener('click', function() {
//     console.log("hello");
//     // Toggle filled/unfilled class of heart icon/button
//     const isFilled = this.classList.toggle('filled');
    
//     // Set the background image of the button based on its state
//     if (isFilled) {
//       this.style.backgroundImage = "url('images/heart-solid.svg')";
//     } else {
//       this.style.backgroundImage = "url('images/heart-regular.svg')";
//     }
//   });
// });

    </script>
</html>